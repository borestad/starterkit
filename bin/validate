#!/usr/bin/env node -r esm

import { getIgnoredFilesStillInIndex } from '@config/helpers-cli'

let files

if ((files = getIgnoredFilesStillInIndex()).length > 0) {

  console.error(`
    There exists files in this repository that mark as .gitignored, but still are committed
  `.trim())

  console.error(files)

  throw new Error('IGNORED_FILES_STILL_IN_INDEX')
}